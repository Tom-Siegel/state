function _var(e){eventable.call(this);var t=void 0===e?null:e,n=this;Object.defineProperty(this,"value",{get:function(){return t},set:function(e){var r={old:t,new:e};t=e,n.raise({type:"change",details:r})},enumerable:!0})}function _hook(e,t,n){function r(r){if(void 0!==t&&null!=t)switch(typeof n){case"string":case"number":t[n]=r.details.new;break;case"function":n({target:t,event:r,variable:e});break;default:t=r.details.new}else t=r.details.new}void 0===t&&(t={}),e.on("change",r),Object.defineProperty(this,"reference",{get:function(){return t}}),Object.defineProperty(this,"property",{get:function(){return n}}),Object.defineProperty(this,"release",{value:function(){e.off("change",r)}})}function _provider(){var e=new _var,t=[];Object.defineProperty(this,"value",{get:function(){return e.value},set:function(t){e.value=t}}),Object.defineProperty(this,"addHook",{value:function(n,r){t.push(new _hook(e,n,r))}}),Object.defineProperty(this,"hooks",{get:function(){return t}})}function _complex(e,t){if("object"==typeof e){var n=Object.keys(e),r={};return Object.defineProperty(r,"__source",{get:function(){return e}}),n.forEach(n=>{var o=new _var,i="_"+n,c=typeof e[n];Object.defineProperty(r,i,{get:function(){return o}}),Object.defineProperty(r,n,{get:function(){return r[i].value},set:function(e){r[i].value=e},enumerable:!0}),o.value="object"===c&&!0===t?_complex(e[n]):e[n]}),r}return{}}const{eventable:eventable}=require("x-eventable/eventable.js");module.exports={_var:_var,_hook:_hook,_provider:_provider,_complex:_complex};