(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):Object.assign(e,t())})(this,function(){"use strict";function e(e){i.call(this);var t=void 0===e?null:e,n=this;Object.defineProperty(this,"value",{get:function(){return t},set:function(e){var r={old:t,new:e};t=e,n.raise({type:"change",details:r})},enumerable:!0})}function t(e,t,n){function r(r){if(void 0!==t&&null!=t)switch(typeof n){case"string":case"number":t[n]=r.details.new;break;case"function":n({target:t,event:r,variable:e});break;default:t=r.details.new}else t=r.details.new}void 0===t&&(t={}),e.on("change",r),Object.defineProperty(this,"reference",{get:function(){return t}}),Object.defineProperty(this,"property",{get:function(){return n}}),Object.defineProperty(this,"release",{value:function(){e.off("change",r)}})}function n(){var n=new e,r=[];Object.defineProperty(this,"value",{get:function(){return n.value},set:function(e){n.value=e}}),Object.defineProperty(this,"addHook",{value:function(e,i){r.push(new t(n,e,i))}}),Object.defineProperty(this,"hooks",{get:function(){return r}})}function r(t,n){if("object"==typeof t){var i=Object.keys(t),o={};return Object.defineProperty(o,"__source",{get:function(){return t}}),i.forEach(i=>{var u=new e,c="_"+i,f=typeof t[i];Object.defineProperty(o,c,{get:function(){return u}}),Object.defineProperty(o,i,{get:function(){return o[c].value},set:function(e){o[c].value=e},enumerable:!0}),u.value="object"===f&&!0===n?r(t[i]):t[i]}),o}return{}}const{eventable:i}=require("x-eventable/eventable.js");return{_var:e,_hook:t,_provider:n,_complex:r}});